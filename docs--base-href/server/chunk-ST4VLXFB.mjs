import './polyfills.server.mjs';
import{a as F}from"./chunk-N2SNJCT6.mjs";import{a as v,b as n,c as S,d as b,f as y,g as C,h as x,i as _,k as E}from"./chunk-TSF7LSXQ.mjs";import"./chunk-BH3MSCPX.mjs";import{h as g}from"./chunk-LVNVX3KP.mjs";import"./chunk-B6XCLQHU.mjs";import{Hb as r,Ob as h,Qa as c,Y as s,aa as u,ib as p,qb as i,rb as t,sb as a,zb as f}from"./chunk-HHRL5WPK.mjs";import"./chunk-VVCT4QZE.mjs";var q=(()=>{let o=class o{constructor(){this._FormBuilder=s(_),this._ActivatedRoute=s(g),this._OrdersService=s(F),this.idCart="",this.orders=this._FormBuilder.group({details:[null,[n.required]],phone:[null,[n.required,n.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[n.required]]})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{console.log(e),this.idCart=e.get("id")},error:e=>{console.log(e)}})}ordersSubmit(){console.log(this.idCart),console.log(this.orders.value),this._OrdersService.checkOut(this.idCart,this.orders.value).subscribe({next:e=>{console.log(e),e.status=="success"&&window.open(e.session.url,"_self")},error:e=>{console.log(e)}})}};o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=u({type:o,selectors:[["app-order"]],standalone:!0,features:[h],decls:19,vars:1,consts:[[1,"w-75","mx-auto","bg-main-light","shadow","rounded-3","my-4","p-4"],[1,"container"],[1,"text-main","h3"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["id","details","formControlName","details","placeholder","Details...",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["for","city"],["formControlName","city","type","tel","id","city",1,"form-control"],["type","submit",1,"btn-main","mt-2"]],template:function(l,d){l&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),r(3,"shippingAddress"),t(),i(4,"form",3),f("ngSubmit",function(){return d.ordersSubmit()}),i(5,"div",4)(6,"label",5),r(7,"details"),t(),a(8,"textarea",6),t(),i(9,"div",4)(10,"label",7),r(11,"phone"),t(),a(12,"input",8),t(),i(13,"div",4)(14,"label",9),r(15,"city"),t(),a(16,"input",10),t(),i(17,"button",11),r(18,"Check Out"),t()()()()),l&2&&(c(4),p("formGroup",d.orders))},dependencies:[E,y,v,S,b,C,x]});let m=o;return m})();export{q as OrderComponent};
